# TEAM\_01   
Этот день был посвящён решению классической задачи коммивояжёра средствами SQL. Я моделировала граф, училась работать с рекурсивными запросами и строить маршруты произвольной длины, а также вычислять стоимость сложных путей и анализировать оптимальные туры в реляционной модели данных.   
   
**Изученные навыки**   
   
- моделирование графовой структуры в SQL через таблицы узлов и рёбер;   
- работа с рекурсивными CTE ( `WITH RECURSIVE`) для построения путей в графе;   
- генерация гамильтоновых циклов по всем возможным маршрутам;   
- расчёт суммарной стоимости путей;   
- фильтрация результатов для нахождения минимальных и максимальных циклов;   
- сортировка и представление комплексных структур (массивы, пути) в SQL;   
- применение SQL для решения задач оптимизации и комбинаторики.   
   
###    
### Задание 00 — Classical TSP   
**Условие**   
Имеется граф из четырёх городов (a, b, c, d), соединённых ребрами с указанными стоимостями.   
Необходимо смоделировать этот граф в базе данных и найти все минимальные гамильтоновы циклы, начинающиеся в точке `a` и возвращающиеся в неё после посещения всех остальных городов.   
Для выполнения задания требуется:

1. Создать таблицу маршрутов с тремя полями:   
    - `point1` — начальная точка,   
    - `point2` — конечная точка,   
    - `cost` — стоимость перехода (целое число).
         
2. Заполнить таблицу всеми ребрами, включая обратные (если есть путь a→b, нужно добавить и b→a).
 
3. Написать рекурсивный SQL-запрос, который:   
    - строит все возможные туры, проходящие через все города один раз,   
    - возвращается в исходную точку `a`,   
    - считает суммарную стоимость пути.
         
4. Вывести только те маршруты, у которых общая стоимость минимальна.

5. Отсортировать результат по `total\_cost`, затем по `tour`.   
   
**Разрешено:** ANSI SQL, рекурсивные CTE.   
**Файлы:** должен быть создан SQL-файл с DDL для таблицы + DML для данных + итоговый запрос.   
 --- 
### Задание 01 — Opposite TSP   
**Условие**   
Используя решение из задания 00, расширить запрос таким образом, чтобы он возвращал не только минимальные туры, но и маршруты с максимальной суммарной стоимостью.   
Требуется:   

1. На основе уже созданной таблицы маршрутов выполнить новый рекурсивный запрос, аналогичный предыдущему.   

2. Вернуть оба типа туров:   
    - минимальной стоимости,   
    - максимальной стоимости.   

3. Отсортировать результат:   
    - по `total\_cost` (по возрастанию),   
    - затем по `tour`.   
   
**Разрешено:** ANSI SQL, рекурсивные CTE.   
Структуры заново создавать не нужно — используются данные из задания 00.   
