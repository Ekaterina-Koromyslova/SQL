# DAY 00   
Модель БД с которой происходила работа   
   
![image](files/image.png)    
Таблица пиццерия   
|     Поле |         Тип |                                                         Описание |
|:---------|:------------|:-----------------------------------------------------------------|
|       id | PRIMARY KEY |                                Уникальный идентификатор пиццерии |
|     name |     VARCHAR |                                                Название пиццерии |
|   rating |     DECIMAL |                             Средний рейтинг пиццерии (от 0 до 5) |

Таблица person   
|     Поле |         Тип |                                                                 Описание |
|:---------|:------------|:-------------------------------------------------------------------------|
|       id | PRIMARY KEY |                                    Уникальный идентификатор пользователя |
|     name |     VARCHAR |                                                         Имя пользователя |
|      age |     INTEGER |                                                     Возраст пользователя |
|   gender |     VARCHAR |                                                         Пол пользователя |
|  address |     VARCHAR |                                                       Адрес пользователя |

Таблица menu   
|         Поле |         Тип |                                                                Описание |
|:-------------|:------------|:------------------------------------------------------------------------|
|           id | PRIMARY KEY |                                   Уникальный идентификатор позиции меню |
| pizzeria\_id | FOREIGN KEY |                                        Ссылка на пиццерию (pizzeria.id) |
|  pizza\_name |     VARCHAR |                                               Название пиццы в пиццерии |
|        price |     DECIMAL |                                                   Цена конкретной пиццы |

Таблица person\_visits   
|         Поле |         Тип |                                                           Описание |
|:-------------|:------------|:-------------------------------------------------------------------|
|           id | PRIMARY KEY |                                 Уникальный идентификатор посещения |
|   person\_id | FOREIGN KEY |                                 Ссылка на пользователя (person.id) |
| pizzeria\_id | FOREIGN KEY |                                   Ссылка на пиццерию (pizzeria.id) |
|  visit\_date |        DATE |                              Дата посещения (например, 2022-01-01) |

Таблица person\_order   
|        Поле |         Тип |                                                     Описание |
|:------------|:------------|:-------------------------------------------------------------|
|          id | PRIMARY KEY |                              Уникальный идентификатор заказа |
|  person\_id | FOREIGN KEY |                           Ссылка на пользователя (person.id) |
|    menu\_id | FOREIGN KEY |                             Ссылка на позицию меню (menu.id) |
| order\_date |        DATE |                           Дата заказа (например, 2022-01-01) |

   
### Задание 00   
**Условие:**   
написать запрос результат которого вернет все имена и возраста людей из Казани
   
   
### Задание 01   
**Условие:**   
Вывести имена и возраст всех женщин из Казани, отсортировать по имени   
   
### Задание 02   
**Условие:**   
Вывести список пиццерий (название и рейтинг), у которых рейтинг от 3.5 до 5.0 включительно, отсортировать по рейтингу   
   
### Задание 03   
**Условие**   
Вывести id людей (без дубликатов) которые посещали пиццерии с 6 по 9 января 2022 ИЛИ посещали пиццерии с id = 2   
   
### Задание 04   
**Условие**   
Собрать строку в формате:   
```
Anna (age:16,gender:'female',address:'Moscow')
```
Вывести это как один вычисляемый столбец с именем **person\_information**.   
Отсортировать по этому столбцу в порядке возрастания.   
### Задание 05   
**Условие**   
Найти имена людей которые сделали заказы из меню с id 13 или 14 или 18, дата заказа 2022-01-07. В запросе нельзя использовать IN и JOIN, нужно сделать внутренний подзапрос прямо из SELECT   
   
### Задание 06   
**Условие**   
Надо доработать предыдущий запрос путем добавления вычисляемого столбца который будет выводить true если имя = Denis и false в ином случае
Псевдокод    
   
```
if (person_name == 'Denis') then return true
    else return false
```
Нельзя использовать IN, любые типы JOIN   
   
### Задание 07   
**Условие**   
Сделать запрос который вернет id человека, имя, интервал возраста (должен быть расположен в вычисляемой колонке interval\_info)    
Базироваться на этом псевдокоде, interval\_info отсротировать по возрастанию   
```
if (age >= 10 and age <= 20) then return 'interval #1'
else if (age > 20 and age < 24) then return 'interval #2'
else return 'interval #3'
```
   
### Задание 08   
**Условие**   
Написать запрос который выведет строки из person\_order у которых id - четное число, отсортировать по id   
   
### Задание 09   
**Условие**   
Взять таблицу `person\_visits`   
Отфильтровать по дате: с **2022-01-07** по **2022-01-09** (включительно)   
Вывести:   
- имя человека (через подзапрос в `SELECT`)   
- имя пиццерии (через подзапрос в `SELECT`)   
   
В `FROM` использовать подзапрос (алиас `pv`)   
Сортировка:   
- по имени человека ( `ASC`)   
- по имени пиццерии ( `DESC`)   
   
 `JOIN` использовать нельзя.   
Ориентироваться на псевдокод    
```
SELECT (...) AS person_name ,  -- this is an internal query in a main SELECT clause
        (...) AS pizzeria_name  -- this is an internal query in a main SELECT clause
FROM (SELECT … FROM person_visits WHERE …) AS pv -- this is an internal query in a main FROM clause
ORDER BY ...
```
   
   
